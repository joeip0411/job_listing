digraph G {
  rankdir = "RL";
  node [shape = rect, fontname = "sans-serif"];
  "aws_db_instance.airflow-metastore" [label="aws_db_instance.airflow-metastore"];
  "aws_ecr_repository.airflow" [label="aws_ecr_repository.airflow"];
  "aws_ecs_cluster.ecs_cluster" [label="aws_ecs_cluster.ecs_cluster"];
  "aws_ecs_service.airflow_job_listing" [label="aws_ecs_service.airflow_job_listing"];
  "aws_ecs_task_definition.airflow_job_listing" [label="aws_ecs_task_definition.airflow_job_listing"];
  "aws_glue_catalog_database.job" [label="aws_glue_catalog_database.job"];
  "aws_glue_catalog_table.stg__job_description" [label="aws_glue_catalog_table.stg__job_description"];
  "aws_glue_catalog_table.stg__job_listing" [label="aws_glue_catalog_table.stg__job_listing"];
  "aws_glue_catalog_table.stg__job_skills" [label="aws_glue_catalog_table.stg__job_skills"];
  "aws_iam_policy.airflow" [label="aws_iam_policy.airflow"];
  "aws_iam_policy.emr_ec2_instance_profile_policy" [label="aws_iam_policy.emr_ec2_instance_profile_policy"];
  "aws_iam_role.ecs_task_execution_role" [label="aws_iam_role.ecs_task_execution_role"];
  "aws_iam_role.ecs_task_role" [label="aws_iam_role.ecs_task_role"];
  "aws_iam_role.emr_ec2_instance_profile" [label="aws_iam_role.emr_ec2_instance_profile"];
  "aws_iam_role.emr_service_role" [label="aws_iam_role.emr_service_role"];
  "aws_iam_user.airflow" [label="aws_iam_user.airflow"];
  "aws_iam_user_policy_attachment.airflow_policy_to_airflow_user" [label="aws_iam_user_policy_attachment.airflow_policy_to_airflow_user"];
  "aws_iam_user_policy_attachment.amazon_emr_role_to_airflow_user" [label="aws_iam_user_policy_attachment.amazon_emr_role_to_airflow_user"];
  "aws_iam_user_policy_attachment.amazon_s3_full_access_to_airflow_user" [label="aws_iam_user_policy_attachment.amazon_s3_full_access_to_airflow_user"];
  "aws_s3_bucket.datalake_storage_bucket" [label="aws_s3_bucket.datalake_storage_bucket"];
  "aws_s3_bucket.log" [label="aws_s3_bucket.log"];
  "aws_security_group.ElasticMapReduce_master" [label="aws_security_group.ElasticMapReduce_master"];
  "aws_security_group.ElasticMapReduce_slave" [label="aws_security_group.ElasticMapReduce_slave"];
  "aws_security_group.ecs_task_airflow_job_listing" [label="aws_security_group.ecs_task_airflow_job_listing"];
  "aws_service_discovery_http_namespace.ecs_service_discovery_http_namespace" [label="aws_service_discovery_http_namespace.ecs_service_discovery_http_namespace"];
  "aws_vpc_security_group_egress_rule.egress_from_ecs_to_airflow_metastore" [label="aws_vpc_security_group_egress_rule.egress_from_ecs_to_airflow_metastore"];
  "aws_vpc_security_group_egress_rule.egress_from_ecs_to_emr" [label="aws_vpc_security_group_egress_rule.egress_from_ecs_to_emr"];
  "aws_vpc_security_group_egress_rule.egress_from_ecs_to_internet" [label="aws_vpc_security_group_egress_rule.egress_from_ecs_to_internet"];
  "aws_vpc_security_group_egress_rule.egress_from_emr_master_to_internet" [label="aws_vpc_security_group_egress_rule.egress_from_emr_master_to_internet"];
  "aws_vpc_security_group_egress_rule.egress_from_emr_slave_to_internet" [label="aws_vpc_security_group_egress_rule.egress_from_emr_slave_to_internet"];
  "aws_vpc_security_group_ingress_rule.ingress_from_airflow_metastore_to_ecs" [label="aws_vpc_security_group_ingress_rule.ingress_from_airflow_metastore_to_ecs"];
  "aws_vpc_security_group_ingress_rule.ingress_from_ecs_to_emr_master" [label="aws_vpc_security_group_ingress_rule.ingress_from_ecs_to_emr_master"];
  "aws_vpc_security_group_ingress_rule.ingress_from_emr_master_to_emr_slave_icmp" [label="aws_vpc_security_group_ingress_rule.ingress_from_emr_master_to_emr_slave_icmp"];
  "aws_vpc_security_group_ingress_rule.ingress_from_emr_master_to_emr_slave_tcp" [label="aws_vpc_security_group_ingress_rule.ingress_from_emr_master_to_emr_slave_tcp"];
  "aws_vpc_security_group_ingress_rule.ingress_from_emr_master_to_emr_slave_udp" [label="aws_vpc_security_group_ingress_rule.ingress_from_emr_master_to_emr_slave_udp"];
  "aws_vpc_security_group_ingress_rule.ingress_from_emr_slave_to_emr_master_icmp" [label="aws_vpc_security_group_ingress_rule.ingress_from_emr_slave_to_emr_master_icmp"];
  "aws_vpc_security_group_ingress_rule.ingress_from_emr_slave_to_emr_master_tcp" [label="aws_vpc_security_group_ingress_rule.ingress_from_emr_slave_to_emr_master_tcp"];
  "aws_vpc_security_group_ingress_rule.ingress_from_emr_slave_to_emr_master_udp" [label="aws_vpc_security_group_ingress_rule.ingress_from_emr_slave_to_emr_master_udp"];
  "aws_vpc_security_group_ingress_rule.ingress_from_emr_to_ecs" [label="aws_vpc_security_group_ingress_rule.ingress_from_emr_to_ecs"];
  "aws_vpc_security_group_ingress_rule.ingress_from_firewall_regional_prod_only_to_emr_master_tcp" [label="aws_vpc_security_group_ingress_rule.ingress_from_firewall_regional_prod_only_to_emr_master_tcp"];
  "aws_vpc_security_group_ingress_rule.ingress_from_home_to_ecs" [label="aws_vpc_security_group_ingress_rule.ingress_from_home_to_ecs"];
  "aws_ecs_cluster.ecs_cluster" -> "aws_service_discovery_http_namespace.ecs_service_discovery_http_namespace";
  "aws_ecs_service.airflow_job_listing" -> "aws_ecs_cluster.ecs_cluster";
  "aws_ecs_service.airflow_job_listing" -> "aws_ecs_task_definition.airflow_job_listing";
  "aws_ecs_service.airflow_job_listing" -> "aws_security_group.ecs_task_airflow_job_listing";
  "aws_ecs_task_definition.airflow_job_listing" -> "aws_ecr_repository.airflow";
  "aws_ecs_task_definition.airflow_job_listing" -> "aws_iam_role.ecs_task_execution_role";
  "aws_ecs_task_definition.airflow_job_listing" -> "aws_iam_role.ecs_task_role";
  "aws_glue_catalog_table.stg__job_description" -> "aws_glue_catalog_database.job";
  "aws_glue_catalog_table.stg__job_description" -> "aws_s3_bucket.datalake_storage_bucket";
  "aws_glue_catalog_table.stg__job_listing" -> "aws_glue_catalog_database.job";
  "aws_glue_catalog_table.stg__job_listing" -> "aws_s3_bucket.datalake_storage_bucket";
  "aws_glue_catalog_table.stg__job_skills" -> "aws_glue_catalog_database.job";
  "aws_glue_catalog_table.stg__job_skills" -> "aws_s3_bucket.datalake_storage_bucket";
  "aws_iam_role.emr_ec2_instance_profile" -> "aws_iam_policy.emr_ec2_instance_profile_policy";
  "aws_iam_user_policy_attachment.airflow_policy_to_airflow_user" -> "aws_iam_policy.airflow";
  "aws_iam_user_policy_attachment.airflow_policy_to_airflow_user" -> "aws_iam_user.airflow";
  "aws_iam_user_policy_attachment.amazon_emr_role_to_airflow_user" -> "aws_iam_user.airflow";
  "aws_iam_user_policy_attachment.amazon_s3_full_access_to_airflow_user" -> "aws_iam_user.airflow";
  "aws_vpc_security_group_egress_rule.egress_from_ecs_to_airflow_metastore" -> "aws_security_group.ecs_task_airflow_job_listing";
  "aws_vpc_security_group_egress_rule.egress_from_ecs_to_emr" -> "aws_security_group.ElasticMapReduce_master";
  "aws_vpc_security_group_egress_rule.egress_from_ecs_to_emr" -> "aws_security_group.ecs_task_airflow_job_listing";
  "aws_vpc_security_group_egress_rule.egress_from_ecs_to_internet" -> "aws_security_group.ecs_task_airflow_job_listing";
  "aws_vpc_security_group_egress_rule.egress_from_emr_master_to_internet" -> "aws_security_group.ElasticMapReduce_master";
  "aws_vpc_security_group_egress_rule.egress_from_emr_slave_to_internet" -> "aws_security_group.ElasticMapReduce_slave";
  "aws_vpc_security_group_ingress_rule.ingress_from_airflow_metastore_to_ecs" -> "aws_security_group.ecs_task_airflow_job_listing";
  "aws_vpc_security_group_ingress_rule.ingress_from_ecs_to_emr_master" -> "aws_security_group.ElasticMapReduce_master";
  "aws_vpc_security_group_ingress_rule.ingress_from_ecs_to_emr_master" -> "aws_security_group.ecs_task_airflow_job_listing";
  "aws_vpc_security_group_ingress_rule.ingress_from_emr_master_to_emr_slave_icmp" -> "aws_security_group.ElasticMapReduce_master";
  "aws_vpc_security_group_ingress_rule.ingress_from_emr_master_to_emr_slave_icmp" -> "aws_security_group.ElasticMapReduce_slave";
  "aws_vpc_security_group_ingress_rule.ingress_from_emr_master_to_emr_slave_tcp" -> "aws_security_group.ElasticMapReduce_master";
  "aws_vpc_security_group_ingress_rule.ingress_from_emr_master_to_emr_slave_tcp" -> "aws_security_group.ElasticMapReduce_slave";
  "aws_vpc_security_group_ingress_rule.ingress_from_emr_master_to_emr_slave_udp" -> "aws_security_group.ElasticMapReduce_master";
  "aws_vpc_security_group_ingress_rule.ingress_from_emr_master_to_emr_slave_udp" -> "aws_security_group.ElasticMapReduce_slave";
  "aws_vpc_security_group_ingress_rule.ingress_from_emr_slave_to_emr_master_icmp" -> "aws_security_group.ElasticMapReduce_master";
  "aws_vpc_security_group_ingress_rule.ingress_from_emr_slave_to_emr_master_icmp" -> "aws_security_group.ElasticMapReduce_slave";
  "aws_vpc_security_group_ingress_rule.ingress_from_emr_slave_to_emr_master_tcp" -> "aws_security_group.ElasticMapReduce_master";
  "aws_vpc_security_group_ingress_rule.ingress_from_emr_slave_to_emr_master_tcp" -> "aws_security_group.ElasticMapReduce_slave";
  "aws_vpc_security_group_ingress_rule.ingress_from_emr_slave_to_emr_master_udp" -> "aws_security_group.ElasticMapReduce_master";
  "aws_vpc_security_group_ingress_rule.ingress_from_emr_slave_to_emr_master_udp" -> "aws_security_group.ElasticMapReduce_slave";
  "aws_vpc_security_group_ingress_rule.ingress_from_emr_to_ecs" -> "aws_security_group.ElasticMapReduce_master";
  "aws_vpc_security_group_ingress_rule.ingress_from_emr_to_ecs" -> "aws_security_group.ecs_task_airflow_job_listing";
  "aws_vpc_security_group_ingress_rule.ingress_from_firewall_regional_prod_only_to_emr_master_tcp" -> "aws_security_group.ElasticMapReduce_master";
  "aws_vpc_security_group_ingress_rule.ingress_from_home_to_ecs" -> "aws_security_group.ecs_task_airflow_job_listing";
}
